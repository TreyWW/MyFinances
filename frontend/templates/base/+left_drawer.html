{% load feature_enabled %}
{% feature_enabled "areUserEmailsAllowed" as are_user_emails_allowed %}
<div class="drawer-side sm:z-[60] lg:z-[55]"
     data-layout="left_sliding_sidebar"
     {% if swap %}hx-swap-oob='innerHTML:div[data-layout="left_sliding_sidebar"]'{% endif %}>
    <label for="service_list_drawer"
           aria-label="close sidebar"
           class="drawer-overlay"></label>
    <ul class="menu p-4 w-80 min-h-full bg-base-200 text-base-content z-10 gap-y-1"
        hx-boost="true">
        <label class="btn btn-square btn-outline btn-block top-5 right-5 mb-3"
               for="service_list_drawer">
            <i class="fa fa-solid fa-x"></i>
            Close
        </label>
        <li>
            {% with i_url="dashboard" %}
                <a href="{% url i_url %}"
                   {% if  request.resolver_match.url_name == i_url %}class="active{% endif %}
                   ">My Dashboard</a>
            {% endwith %}
        </li>
        <li>
            {% with i_url="clients dashboard" %}
                <a href="{% url i_url %}"
                   {% if request.resolver_match.url_name == i_url %}class="active"{% endif %}>Clients</a>
            {% endwith %}
        </li>
        <li>
            {% with i_url="invoices:dashboard" %}
                <a href="{% url i_url %}"
                   {% if request.resolver_match.url_name == i_url %}class="active"{% endif %}>Invoices</a>
            {% endwith %}
        </li>
        <li>
            {% with i_url="receipts dashboard" %}
                <a href="{% url i_url %}"
                   {% if request.resolver_match.url_name == i_url %}class="active"{% endif %}>Receipts</a>
            {% endwith %}
        </li>
        <li>
            {% with i_url="currency converter" %}
                <a href="{% url i_url %}"
                   {% if request.resolver_match.url_name == i_url %}class="active"{% endif %}>
                    Currency Converter
                </a>
            {% endwith %}
        </li>
        <li>
            {% with i_url="quotas" %}
                <a href="{% url i_url %}"
                   {% if request.resolver_match.url_name == i_url %}class="active"{% endif %}>
                    Service Quotas
                </a>
            {% endwith %}
        </li>
        {% if are_user_emails_allowed %}
            <li>
                {% with i_url="emails:dashboard" ns="emails" uname="dashboard" %}
                    <a href="{% url i_url %}"
                       {% if request.resolver_match.url_name == uname and ns in request.resolver_match.namespaces %} class="active" {% endif %}>
                        Email Sending
                    </a>
                {% endwith %}
            </li>
        {% endif %}
    </ul>
</div>
