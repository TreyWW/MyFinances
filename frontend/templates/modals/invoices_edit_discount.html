{% component_block "modal" id="modal_invoices_edit_discount" start_open="true" title="Edit invoice discount" %}
    {% fill "content" %}
        <form class="py-4"
              id="modal_invoices_edit_discount-form"
              hx-post="{% url 'api:invoices:services add' %}"
              hx-include="#services_table_body"
              hx-swap="innerHTML"
              hx-target="#services_table_body">
            {% csrf_token %}


            <div class="form-control my-4">
                <label class="label cursor-pointer">
                    <span class="label-text">Fixed Amount</span>
                    <input type="checkbox" class="toggle" checked
                            _="on change if me.checked add @hidden to document.querySelector('[data-discount=\"\\"]')" />
                    <span class="label-text">Percentage</span>
                </label>
            </div>
            
            <label class="input input-bordered flex items-center gap-2">
                <i data-discount="amount" class="fa fa-solid fa-pound-sign mr-2"></i>
                <i data-discount="percentage" class="hidden fa fa-solid fa-percentage mr-2"></i>
              <input type="text" class="grow" placeholder="Amount" pattern="[0-9]" />
            </label>
            <div class="modal-action">
                <button type="submit"
                        id="modal_invoices_edit_discount-submit"
                        class="btn btn-primary"
                        _="on click if #modal_invoices_edit_discount-form.checkValidity() call #modal_invoices_edit_discount.close() end">
                    Save
                </button>
                <button type="reset" class="btn btn-error">Reset</button>
                <button type="button"
                        _="on click call #modal_invoices_edit_discount.close()"
                        class="btn">Close
                </button>
            </div>
        </form>
    {% endfill %}
{% endcomponent_block %}
