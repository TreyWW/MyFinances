{% component_block "modal" id="modal_receipts_upload" start_open="true" title="Upload Receipt" %}
{% fill "content" %}
<form class="py-4"
      id="modal_receipts_upload-form"
      hx-post="{% url 'api:receipts:new' %}"
      hx-swap="innerHTML"
      enctype="multipart/form-data"
      hx-encoding="multipart/form-data"
      hx-target="#items"
      hx-indicator="#upload_receipt_button">
    {% csrf_token %}
    <div class="form-control">
        <label class="label justify-start">
            Receipt Name
            <span class="required_star">*</span>
        </label>
        <input required type="text" name="receipt_name" class="input input-bordered">
    </div>
    <div class="form-control">
        <label class="label justify-start">
            Receipt Image
            <span class="required_star">*</span>
        </label>
        <input required
               type="file"
               name="receipt_image"
               class="file-input file-input-bordered max-w-full"
               accept="image/jpeg,image/png,image/jpg,application/pdf">
    </div>
    <div class="form-control">
        <label class="label">Receipt Date</label>
        <input type="date" name="receipt_date" class="input input-bordered">
    </div>
    <div class="form-control">
        <label class="label">Merchant/Store</label>
        <input type="text" name="merchant_store" class="input input-bordered">
    </div>
    <div class="form-control">
        <label class="label">Purchase Category</label>
        <input type="text" name="purchase_category" class="input input-bordered">
    </div>
    <div class="form-control">
        <label class="label justify-start">
            Total Price
            <span class="required_star">*</span>
        </label>
        <input required
               type="number"
               step=".01"
               name="total_price"
               class="input input-bordered">
    </div>
    <div class="modal-action">
        <button type="submit"
                id="modal_receipts_upload-action-btn"
                class="btn btn-primary"
                _="on click if #modal_receipts_upload-form.checkValidity() call #modal_receipts_upload.close() end">
            Save
        </button>
        <button type="reset" class="btn btn-error">Reset</button>
        <button type="button"
                _="on click call #modal_receipts_upload.close()"
                class="btn btn-neutral">Close</button>
    </div>
</form>
{% endfill %}
{% endcomponent_block %}
